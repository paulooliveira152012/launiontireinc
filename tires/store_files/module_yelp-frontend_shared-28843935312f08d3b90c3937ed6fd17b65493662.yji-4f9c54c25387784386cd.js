"use strict";(globalThis.__LOADABLE_LOADED_CHUNKS__=globalThis.__LOADABLE_LOADED_CHUNKS__||[]).push([[4728],{251918:(e,i,t)=>{t.d(i,{Z:()=>r});t(87363);var s=t(657633),o=t(731709);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},a.apply(this,arguments)}const r=function(e){return(0,o.jsx)(s.Z,a({svg:'<svg width="24" height="24" class="icon_svg"><path d="M16 2a1 1 0 0 1 1 .68L17.72 5H20a3 3 0 0 1 3 3v11a3 3 0 0 1-3 3H4a3 3 0 0 1-3-3V8a3 3 0 0 1 3-3h2.28L7 2.68A1 1 0 0 1 8 2Zm-.72 2H8.72L8 6.32A1 1 0 0 1 7 7H4a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1h-3a1 1 0 0 1-.95-.68L15.28 4ZM12 9a1 1 0 0 1 1 1v2.5h2.5a1 1 0 1 1 0 2H13V17a1 1 0 1 1-2 0v-2.5H8.5a1 1 0 1 1 0-2H11V10a1 1 0 0 1 1-1Z"/></svg>',name:"24x24_add_photo_v2",v2:!0},e))}},839766:(e,i,t)=>{t.d(i,{mF:()=>o});const s=["biz_owner_contributions","generic_experiment_events","0.1"],o=(e,i,t)=>{e&&e.logEvent&&e.logEvent(s,{event_type:i,payload:t})}},639865:(e,i,t)=>{t.d(i,{Z:()=>K});var s=t(87363),o=t.n(s),a=t(677841),r=t(89923),n=t(618639),l=t(731709),d=t(882189);const g=t(182145).Ps`
    query GetShowcaseAdDetails($BIZ_ID: String, $PLACEMENT: ShowcaseAdPlacement) {
        business(encid: $BIZ_ID) {
            encid
            name
            logo {
                photo {
                    encid
                    photoUrl {
                        url(size: SQUARE_60)
                    }
                }
            }
            alias
            primaryPhoto {
                encid
                photoUrl {
                    url(size: SQUARE_60)
                }
            }
            showcaseAds(placement: $PLACEMENT) {
                encid
                description
                title
                adCampaignEncId
                advertiserName
                advertiserType
                activePhotos {
                    encid
                    type
                    url
                }
                url(useBizRedirect: true)
            }
        }
    }
`,c=(e,i)=>{const t=(0,d.aM)(g,{variables:{BIZ_ID:e,PLACEMENT:i}}),{loading:s,error:o}=t,a=t.data;let r;return s||void 0===o||(r=[o.message]),{loadingShowcaseDetail:s,errors:r,data:a}};var p=t(421518),h=t(68850),u=t(682642),m=t(979186),x=t(541833),b=t(269703),y=t(106560),f=t(684721),v=t(866976),w=t(469526);var j={name:"1bcj0gf",styles:"min-width:40px;min-height:40px;position:relative;"},L={name:"1mvubjk",styles:"position:absolute;width:28px;height:28px;top:12px;left:12px;border-radius:50%;"},z={name:"goinvk",styles:"position:absolute;width:28px;height:28px;top:0px;left:0px;border-radius:50%;"},k={name:"1wnv4my",styles:"width:32px;height:32px;border-radius:50%;"};const _=({showBizLink:e,isCoopShowcaseAd:i,bizLink:t,bizLogo:s,advertiserLogo:o,bizName:a,advertiserName:r,logPayload:d})=>{const g=(0,w.CH)(),c=i?(0,l.jsx)(n.Z,{css:j},(0,l.jsx)(p.Ei,{css:L,src:s,alt:`Business logo for ${a}`}),(0,l.jsx)(p.Ei,{css:z,src:o,alt:`Advertiser logo for ${r}`})):(0,l.jsx)(p.Ei,{css:k,src:s,alt:`Business logo for ${a}`});return e?(0,l.jsx)(h.Link,{target:"_blank",href:t,role:"link",handleClick:()=>(0,f.MC)(g,d)},c):!e&&i?c:(0,l.jsx)(v.Z,{src:s,size:"medium",altText:`Business logo for ${a}`})},Z=({isCoopShowcaseAd:e,advertiserName:i,showBizLink:t,bizLink:s,bizName:a,logPayload:r})=>{const n=(0,w.CH)(),d=[],g=e?x.Id.core.body1TextBold:x.Id.core.heading4Bold;return e&&i&&d.push((0,l.jsx)(h.Text,{style:g,inline:!0},i),(0,l.jsx)(h.Text,{inline:!0}," and ")),t?d.push((0,l.jsx)(h.Link,{target:"_blank",href:s,color:"inherit",weightOverride:"normal",role:"link",handleClick:()=>(0,f.bt)(n,r)},(0,l.jsx)(h.Text,{style:g,inline:!0},a))):d.push((0,l.jsx)(h.Text,{style:g,inline:!0},a)),(0,l.jsx)(o().Fragment,null,d)};var C={name:"s6wbbr",styles:"display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;"};const B=({advertiserLogo:e,advertiserName:i,bizLink:t,bizLogo:s,isCoopShowcaseAd:a,showBizLink:r,bizName:d,logPayload:g})=>(0,l.jsx)(o().Fragment,null,(0,l.jsx)(_,{advertiserLogo:e,advertiserName:i,bizLink:t,bizLogo:s,bizName:d,isCoopShowcaseAd:a,logPayload:g,showBizLink:r}),(0,l.jsx)(n.Z,{width:"100%"},(0,l.jsx)(h.Text,{css:C},(0,l.jsx)(Z,{advertiserName:i,bizLink:t,bizName:d,isCoopShowcaseAd:a,showBizLink:r,logPayload:g}))));var I=t(919067);const N=e=>{const i=(0,w.CH)(),[t,o]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{if(!t){(e.pageSource===I.i0.SERP?f.u_:f.Y4)(i,e),(0,f.vP)(i,e),o(!0)}}),[t,i,e]),i};var A={name:"1a89sbf",styles:"background-color:black;min-height:225px;"},E={name:"1age63q",styles:"width:100%;display:flex;"};const P=({bizName:e,bizLogo:i,bizLink:t,title:s,description:o,redirUrl:a,image:d,logPayload:g,showBizLink:c,advertiserType:v,advertiserName:w,advertiserLogo:j})=>{const L=N(g),z=v===I.ni.coop_showcase_ads&&!!j&&!!w;return(0,l.jsx)(m.Z,{marginTop:3,marginLeft:3,marginBottom:3,marginRight:3,"data-testid":"detail-view-layout-sm"},(0,l.jsx)(r.Z,{alignItems:"center",gutter:1,marginBottom:3,marginRight:5},(0,l.jsx)(B,{advertiserLogo:j,advertiserName:w,bizLink:t,bizLogo:i,bizName:e,isCoopShowcaseAd:z,logPayload:g,showBizLink:c})),(0,l.jsx)(r.Z,{direction:"column"},(0,l.jsx)(n.Z,{marginBottom:2,css:A},(0,l.jsx)(p.Ei,{src:d,css:E,alt:`${s} - ${o}`})),(0,l.jsx)(n.Z,{marginBottom:3},(0,l.jsx)(m.Z,{marginBottom:1},(0,l.jsx)(h.Heading,{level:3},s)),(0,l.jsx)(h.Text,{style:x.Id.core.body1TextRegular},o)),(0,l.jsx)(n.Z,null,(0,l.jsx)(m.Z,{marginBottom:1.5},(0,l.jsx)(u.Z,{href:a,tagType:"link",type:"primary",target:"_blank",full:!0,text:(0,b.ag)("Visit website"),icon:y.Z,iconDirection:"right-edge",onClick:()=>{(0,f.At)(L,g),(0,f.Lj)(L,g.bizId,g.adCampaignId,!0)}})),c&&(0,l.jsx)(u.Z,{href:t,tagType:"link",type:"secondary",target:"_blank",full:!0,text:(0,b.ag)("View business page")}))))};var S={name:"1amyogu",styles:"height:calc(100vh - 24px);max-height:600px;min-height:300px;"},T={name:"1khs12g",styles:"background-color:black;display:flex;align-items:center;"},U={name:"1age63q",styles:"width:100%;display:flex;"},D={name:"197ye07",styles:"display:flex;max-width:360px;box-shadow:0px 0px 10px rgba(0,0,0,0.25);"},H={name:"kbg0cs",styles:"width:342px;"};const O=({bizName:e,bizLogo:i,bizLink:t,title:s,description:o,redirUrl:a,image:d,logPayload:g,showBizLink:c,advertiserName:y,advertiserType:v,advertiserLogo:w})=>{const j=N(g),L=v===I.ni.coop_showcase_ads&&!!w&&!!y;return(0,l.jsx)(r.Z,{gutter:0,css:S},(0,l.jsx)(n.Z,{grow:8,css:T},(0,l.jsx)(p.Ei,{src:d,css:U,alt:`${s} - ${o}`})),(0,l.jsx)(n.Z,{css:D,grow:4},(0,l.jsx)(r.Z,{direction:"column",css:H},(0,l.jsx)(n.Z,{paddingTop:9,paddingLeft:3,paddingRight:3,fill:!0},(0,l.jsx)(r.Z,{alignItems:"center",gutter:1,marginBottom:2},(0,l.jsx)(B,{advertiserLogo:w,advertiserName:y,bizLink:t,bizLogo:i,bizName:e,isCoopShowcaseAd:L,logPayload:g,showBizLink:c})),(0,l.jsx)(r.Z,{direction:"column",justifyContent:"flex-start",alignItems:"flex-start",gutter:1,marginBottom:4},(0,l.jsx)(h.Heading,{level:4},s),(0,l.jsx)(h.Text,{style:x.Id.core.body1TextRegular},o))),(0,l.jsx)(n.Z,null,(0,l.jsx)(m.Z,{shadowType:"overlay",padding:3},(0,l.jsx)(m.Z,{marginBottom:1},(0,l.jsx)(u.Z,{href:a,tagType:"link",type:"primary",target:"_blank",full:!0,text:(0,b.ag)("Visit website"),onClick:()=>{(0,f.At)(j,g),(0,f.Lj)(j,g.bizId,g.adCampaignId,!1)}})),c&&(0,l.jsx)(u.Z,{href:t,tagType:"link",type:"secondary",target:"_blank",full:!0,text:(0,b.ag)("View business page")}))))))};O.defaultProps={showBizLink:!0};const R=O,$=(e,i,t)=>{if(!e||!e.business||!i)throw new Error("No Biz data found.");const s=e.business.showcaseAds.find((e=>e.adCampaignEncId===i));if(!s)throw new Error("No Showcase Ad found.");const{title:o,description:a,activePhotos:r,advertiserName:n,advertiserType:l,url:d,encid:g}=s,c=r.find((e=>"biz_photo"===e.type)),p=r.find((e=>"coop_photo"===e.type));if(!c)throw new Error("No biz photo found.");if(l===I.ni.coop_showcase_ads&&!p)throw new Error("No Advertiser logo found");const h=e.business?.logo?.photo?.photoUrl?.url??e.business?.primaryPhoto?.photoUrl?.url,u=e.business&&e.business.alias?`/biz/${e.business.alias}`:"";return{bizName:e.business?.name||"",bizLogo:h||"",bizLink:u,description:a||"",image:c.url||"",redirUrl:t||d||"",title:o||"",advertiserName:n||"",advertiserType:l||I.ni.showcase_ads,advertiserLogo:p?.url||"",adCampaignId:g||""}},V=()=>(0,l.jsx)(r.Z,{justifyContent:"center"},(0,l.jsx)(n.Z,{padding:8},(0,l.jsx)(h.Heading,{level:3},(0,b.ag)("Uh oh!")),(0,l.jsx)(h.Heading,{level:5},(0,b.ag)("Something went wrong on our end."))));let M=function(e){return e.biz_page="biz_page",e.search_page="search_page",e}({});function q(){return q=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},q.apply(this,arguments)}var F={name:"1amyogu",styles:"height:calc(100vh - 24px);max-height:600px;min-height:300px;"};const K=({bizId:e,offerCampaignId:i,redirUrl:t,showBizLink:s=!0,platform:o="www",pageSource:d,detailedOfferPageId:g,onChangeLogPayload:p})=>{const{loadingShowcaseDetail:h,errors:u,data:m}=c(e,d===I.i0.SERP?M.search_page:M.biz_page),x="msite"===o?P:R;if(h&&!m)return(0,l.jsx)(r.Z,{gutter:0,justifyContent:"center",css:F},(0,l.jsx)(n.Z,{padding:8,full:!0},(0,l.jsx)(a.Z,{size:"xlarge",isLoading:!0})));if(!h&&u)return(0,l.jsx)(V,null);try{const o=$(m,i,t),a={bizId:e,offerCampaignId:i,adCampaignId:o.adCampaignId,pageSource:d,detailedOfferPageId:g};return p&&p(a),(0,l.jsx)(x,q({},o,{logPayload:a,showBizLink:s}))}catch(e){return(0,l.jsx)(V,null)}}},867438:(e,i,t)=>{t.d(i,{Z:()=>s});const s={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)}},449671:(e,i,t)=>{let s;t.d(i,{Z:()=>a});const o=new Uint8Array(16);function a(){if(!s&&(s="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(o)}},946262:(e,i,t)=>{t.d(i,{S:()=>o});const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function o(e,i=0){return(s[e[i+0]]+s[e[i+1]]+s[e[i+2]]+s[e[i+3]]+"-"+s[e[i+4]]+s[e[i+5]]+"-"+s[e[i+6]]+s[e[i+7]]+"-"+s[e[i+8]]+s[e[i+9]]+"-"+s[e[i+10]]+s[e[i+11]]+s[e[i+12]]+s[e[i+13]]+s[e[i+14]]+s[e[i+15]]).toLowerCase()}},725972:(e,i,t)=>{t.d(i,{Z:()=>r});var s=t(867438),o=t(449671),a=t(946262);const r=function(e,i,t){if(s.Z.randomUUID&&!i&&!e)return s.Z.randomUUID();const r=(e=e||{}).random||(e.rng||o.Z)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,i){t=t||0;for(let e=0;e<16;++e)i[t+e]=r[e];return i}return(0,a.S)(r)}}}]);
//# sourceMappingURL=https://js-sourcemaps.yelpcorp.com/assets/public/module_yelp-frontend_shared-28843935312f08d3b90c3937ed6fd17b65493662.yji-4f9c54c25387784386cd.js.map